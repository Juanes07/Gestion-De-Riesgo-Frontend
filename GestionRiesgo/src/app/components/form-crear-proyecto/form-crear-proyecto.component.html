<p-toast></p-toast>
<h2>Crea un nuevo formulario</h2>
<div class="p-fluid p-grid p-formgrid">
  <div class="field col-12 md:col-4">
    <form [formGroup]="form">
      <h5>Nombre Proyecto</h5>
      <input
        type="text"
        [(ngModel)]="formulario.nombre"
        placeholder="Ingresa el nombre del proyecto"
        formControlName="name"
      />
      <div class="nombre-requerido" *ngIf="formulario.nombre == '' ">
        <p-message severity="error" text="Campo es Requerido"></p-message>
      </div>
      <br />
      <br />
      <label for="basic">Fecha de Inicio Proyecto</label>
      <p-calendar
        inputId="basic"
        [(ngModel)]="formulario.fechaInicio"
        formControlName="fecha"
        dateFormat="yy/mm/dd"
        [readonlyInput]="true"
      ></p-calendar>
      <div class="nombre-requerido" *ngIf="formulario.fechaInicio== ''">
        <p-message severity="error" text="Campo es Requerido"></p-message>
      </div>
      <br />
      <br />
      <label for="basic">Fecha de Fin Proyecto (opcional)</label>
      <p-calendar
        inputId="basic"
        [(ngModel)]="formulario.fechaFin"
        [ngModelOptions]="{ standalone: true }"
        [readonlyInput]="true"
        dateFormat="yy/mm/dd"
      ></p-calendar>
      <br />
      <h5>Etiquetas</h5>
      <input
        type="text"
        pInputText
        [(ngModel)]="etiquetshtml"
        [ngModelOptions]="{ standalone: true }"
      />
      <button (click)="agregarEtiqueta(etiquetshtml)">Agregar Etiqueta</button>
      <br />
      <h5>Responsables (correo)</h5>
      <input
        type="email"
        pInputText
        [(ngModel)]="responsableHtml"
        placeholder="Correo del responsable"
        formControlName="email"
      />
      <button (click)="agregarResponsable(responsableHtml)">
        Agregar Responsable
      </button>
      <div >
        <h5 class="responsables" *ngFor="let responsable of formulario.responsables; index as i" >
          {{formulario.responsables[i]}}
        </h5>
      </div>
      <br />
      <h5>Descripcion del formulario</h5>
      <textarea
        pInputTextarea
        [(ngModel)]="formulario.descripcion"
        formControlName="detalle"
      ></textarea>
      <div class="nombre-requerido" *ngIf="formulario.descripcion== ''" >
        <p-message severity="error" text="Campo es Requerido"></p-message>
      </div>

      <br />
      <h5>Lider Proyecto</h5>
      <input
        type="text"
        [(ngModel)]="formulario.liderProyecto"
        [ngModelOptions]="{ standalone: true }"
      />
    </form>
    <br />
  </div>
  <button  (click)="guardarProyecto(formulario)">Guardar formulario</button>
</div>
