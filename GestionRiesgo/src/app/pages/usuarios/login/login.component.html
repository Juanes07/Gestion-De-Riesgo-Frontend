<p-toast position="top-center" key="success"></p-toast>
<p-toast position="top-center" key="error"></p-toast>

<div class="container" style="text-align: center">
  <div class="card text-center">
    <img
      src="https://tse4.mm.bing.net/th?id=OIP.seQu0_qojO7R3LNDBYj7zQHaHa&pid=Api&P=0&w=183&h=183"
      title="Gestión de riesgos"
      alt="Gestión de riesgos"
    />
    <h1>{{ title }}</h1>
    <h3>Acceso a usuarios registrados</h3>
    <form [formGroup]="form">
      <span class="p-float-label" style="margin: 20px">
        <input
          type="text"
          formControlName="email"
          pInputText
          placeholder="Correo electrónico"
        />
      </span>
      <span class="p-float-label" style="margin: 20px; margin-top: 30px">
        <input
          type="password"
          formControlName="password"
          pInputText
          placeholder="Contraseña"
        />
      </span>

      <br />

      <button
        [disabled]="form.invalid"
        (click)="onSubmit()"
        pButton
        pRipple
        type="button"
        label="Iniciar"
        class="p-button-outlined p-button-secondary"
        style="margin-bottom: 10px"
      ></button>

      <br />

      <button
        (click)="showModalDialog()"
        pButton
        pRipple
        type="button"
        label="Recuperar contraseña"
        class="p-button-outlined p-button-secondary"
        style="margin-bottom: 10px"
      ></button>

      <br />

      <h5>Ingreso con Google</h5>

      <button
        (click)="onSubmitWithGoogle()"
        pButton
        pRipple
        type="button"
        label="Iniciar con Google"
        class="p-button-outlined p-button-Google"
        style="margin-bottom: 10px"
      ></button>

      <br />
      <p>Aun no tienes cuenta? <a href="/register">Registrate</a></p>
    </form>
  </div>
</div>

<p-dialog
  header="Recuperar Contraseña"
  [(visible)]="displayModal"
  [modal]="true"
  [style]="{ width: '20vw' }"
  [draggable]="false"
  [resizable]="false"
>
  <p-progressSpinner
    *ngIf="mostrar2"
    [style]="{ width: '20', height: '20px' }"
    styleClass="custom-spinner"
    strokeWidth="8"
    fill="var(--surface-ground)"
    animationDuration=".5s"
  ></p-progressSpinner>
  <p>Llegará un email si tu correo se encuentra registrado</p>
  <form [formGroup]="form2">

      <div class="p-inputgroup">
        <span class="p-inputgroup-addon"><i class="pi pi-envelope"></i></span>
        <input
          formControlName="email"
          type="text"
          pInputText
          placeholder="Correo Electrónico"
        />
      </div>
    <p>
      <button
        [disabled]="form2.invalid"
        (click)="resetPassword()"
        pButton
        pRipple
        type="button"
        label="Enviar"
        class="p-button-outlined p-button-secondary"
        style="margin-top: 30px"
      ></button>
    </p>
  </form>
</p-dialog>
